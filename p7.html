<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project 7 Guide: AI-Powered Resume Parser (Full-Stack)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://css2?family=Inter:wght@400;500;600;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        h1, h2, h3, h4 {
            font-weight: 700;
        }
        pre {
            font-family: 'Source Code Pro', monospace;
            background-color: #1e2b3b; /* slate-800 */
            color: #e2e8f0; /* slate-200 */
            padding: 1.5rem;
            border-radius: 0.75rem;
            overflow-x: auto;
            font-size: 0.875rem;
        }
        code {
            font-family: 'Source Code Pro', monospace;
            background-color: #e2e8f0;
            color: #1e293b;
            padding: 0.1rem 0.3rem;
            border-radius: 0.25rem;
        }
        pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
            border-radius: 0;
        }
        .step-number {
            background-color: #f59e0b; /* amber-500 */
            color: white;
            border-radius: 9999px;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.25rem;
            flex-shrink: 0;
        }
        .pro-tip {
            background-color: #fffbeb; /* amber-50 */
            border-left: 4px solid #f59e0b; /* amber-500 */
            padding: 1rem;
            border-radius: 0.5rem;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">
    <div class="container mx-auto p-4 md:p-8 max-w-5xl">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-2">Project 7: AI-Powered Resume Parser</h1>
            <p class="text-lg text-slate-600">A guide to building a modern full-stack application with Next.js and FastAPI.</p>
        </header>

        <main class="space-y-16">
            <!-- Section 1: Architecture & Core Concepts -->
            <section>
                <h2 class="text-3xl font-bold border-b-2 border-amber-200 pb-2 mb-6">Full-Stack Architecture</h2>
                <div class="space-y-4 text-slate-700 mb-8">
                    <p><strong>Project Goal:</strong> To build a seamless full-stack application for recruiters. The frontend, built with Next.js, will provide a polished UI for uploading resumes. The backend, a specialized FastAPI microservice, will handle the heavy lifting: extracting text from resume files and using a large language model (LLM) to parse it into structured JSON data.</p>
                    <p><strong>Core Technologies & Packages:</strong></p>
                    <ul class="list-disc list-inside ml-4">
                        <li><strong>Frontend Framework:</strong> Next.js (with React & Tailwind CSS)</li>
                        <li><strong>Backend Framework:</strong> FastAPI (Python)</li>
                        <li><strong>File Handling (Python):</strong> `python-multipart`, `pypdf2`, `python-docx`</li>
                        <li><strong>AI Service:</strong> OpenAI API</li>
                    </ul>
                </div>

                <h3 class="text-2xl font-bold mb-4">End-to-End Data Flow</h3>
                <p class="mb-4 text-slate-700">This diagram illustrates how a user action on the frontend flows all the way to the AI service and back.</p>
                <pre><code class="language-text">
[ User's Browser ]                                  [ Vercel Server ]        [ Render Server ]
+------------------+                                +-------------------+    +---------------------+    +--------------+
|                  | --(1) User Uploads Resume-->   |                   |    |                     |    |              |
| Next.js Frontend |                                | Next.js Server    |    | FastAPI Backend     |    | OpenAI API   |
| (Client Component)|                                | (Server Action)   |    | (Python Service)    |    | (LLM)        |
|                  | &lt;--(7) UI Updates with Data--  |                   |    |                     |    |              |
+------------------+                                +-------------------+    +---------------------+    +--------------+
                                                          | (2) POST file     |
                                                          +-----------------&gt; | (3) Extract Text    |
                                                                            | (from PDF/DOCX)     |
                                                                            |                     |
                                                                            | (4) Send Text +     |
                                                                            |     Prompt to AI    +--&gt; | (5) Parse    |
                                                                            |                     | &lt;--+ Text into  |
                                                                            | &lt;-(6) Receive       |    | JSON         |
                                                                            |     Structured JSON |    |              |
                                                                            +---------------------+
                </code></pre>
            </section>

            <!-- Section 2: Implementation Strategy -->
            <section>
                <h2 class="text-3xl font-bold border-b-2 border-amber-200 pb-2 mb-6">Implementation Strategy</h2>
                <div class="space-y-8">
                    <div class="flex items-start gap-4">
                        <div class="step-number">1</div>
                        <div>
                            <h3 class="text-xl font-semibold mb-1">Frontend: Building the UI with Next.js</h3>
                            <p class="text-slate-700">The frontend is the user's entire experience. The focus is on creating a clean, responsive interface for uploading files and displaying the structured results.</p>
                            <ul class="list-disc list-inside ml-4 text-slate-700 space-y-2 mt-2">
                                <li><strong>Component Design:</strong> Build reusable React components with Tailwind CSS. Key components include a drag-and-drop file upload zone, a dashboard view to list processed resumes, and a detailed view to display the parsed JSON data in a human-readable format.</li>
                                <li><strong>State Management:</strong> Use React's `useState` and `useReducer` hooks to manage UI state, such as the upload progress, the list of parsed resumes, and any error messages. For this application's scope, a complex state management library is not necessary.</li>
                            </ul>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <div class="step-number">2</div>
                        <div>
                            <h3 class="text-xl font-semibold mb-1">Frontend: Handling Mutations with Server Actions</h3>
                            <p class="text-slate-700">This is a key modern frontend pattern. Instead of writing client-side `fetch` logic and creating a separate API route in Next.js, you will use a <strong>Server Action</strong>. This is an `async` function, defined with the `'use server'` directive, that runs securely on the server.</p>
                            <p class="text-slate-700 mt-2">The file upload form will directly call this Server Action. The action's logic will:</p>
                            <ol class="list-decimal list-inside ml-4 text-slate-700 space-y-2 mt-2">
                                <li>Receive the form data, including the uploaded file.</li>
                                <li>Construct a `FormData` object and make a `fetch` call from the server-side action to your FastAPI backend endpoint.</li>
                                <li>Await the JSON response from the FastAPI service.</li>
                                <li>Use Next.js's `revalidatePath` or `revalidateTag` functions to tell the frontend to refetch its data, ensuring the UI updates automatically with the newly parsed resume.</li>
                            </ol>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <div class="step-number">3</div>
                        <div>
                            <h3 class="text-xl font-semibold mb-1">Backend: The FastAPI File Ingestion Endpoint</h3>
                            <p class="text-slate-700">The FastAPI service will have one primary endpoint, e.g., `POST /parse-resume`. This endpoint needs to be configured to handle file uploads.</p>
                            <pre><code class="language-python"># Snippet: main.py
from fastapi import FastAPI, UploadFile, File

app = FastAPI()

@app.post("/parse-resume")
async def parse_resume(resume_file: UploadFile = File(...)):
    # 1. Read file contents
    contents = await resume_file.read()
    
    # 2. Extract text based on file type
    # ... logic using pypdf2 or python-docx
    
    # 3. Call AI service with extracted text
    # ...
    
    # 4. Return structured JSON
    return parsed_data
</code></pre>
                        </div>
                    </div>
                    
                    <div class="flex items-start gap-4">
                        <div class="step-number">4</div>
                        <div>
                            <h3 class="text-xl font-semibold mb-1">Backend: Text Extraction & AI Prompt Engineering</h3>
                            <p class="text-slate-700">This is the core intelligence of the service. Once the file's bytes are read, you'll need to determine the file type (e.g., from `resume_file.content_type`). Based on the type, use the appropriate library (`pypdf2` for PDFs, `python-docx` for Word documents) to extract the raw text.</p>
                            <div class="pro-tip mt-4">
                                <p><strong>Prompt Engineering for Structured JSON:</strong> The key to success is crafting a detailed prompt for the LLM. You don't just ask it to "summarize." You instruct it to act as an HR expert and return a JSON object with a specific schema. This technique, called function calling or structured output, is vital for building reliable AI applications.</p>
                                <pre><code># Example Prompt Snippet
prompt = f"""
Analyze the following resume text and extract the information as a JSON object.
The JSON object must follow this exact schema:
{{
  "contact_info": {{ "name": "string", "email": "string", "phone": "string" }},
  "skills": ["string"],
  "work_experience": [{{ "company": "string", "role": "string", "duration": "string" }}]
}}

Resume Text:
---
{extracted_resume_text}
---
"""
                                </code></pre>
                            </div>
                        </div>
                    </div>

                    <div class="flex items-start gap-4">
                        <div class="step-number">5</div>
                        <div>
                            <h3 class="text-xl font-semibold mb-1">Deployment & Integration</h3>
                            <p class="text-slate-700">The final step is to deploy the two services and connect them.</p>
                             <ul class="list-disc list-inside ml-4 text-slate-700 space-y-2 mt-2">
                                <li><strong>Backend Deployment:</strong> Containerize the FastAPI application using Docker. Push the image to a registry and deploy it as a web service on a platform like **Render**. Crucially, you must set your `OPENAI_API_KEY` as a secret environment variable in the Render dashboard.</li>
                                <li><strong>Frontend Deployment:</strong> Deploy the Next.js application to **Vercel**. In the Vercel project settings, add an environment variable that points to the live URL of your deployed FastAPI backend (e.g., `NEXT_PUBLIC_API_BASE_URL=https://my-parser-api.onrender.com`).</li>
                                <li><strong>CORS Configuration:</strong> Ensure your FastAPI backend has CORS (Cross-Origin Resource Sharing) middleware configured to allow requests from your Vercel frontend's domain.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
</body>
</html>
